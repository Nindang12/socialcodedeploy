(()=>{var e={};e.id=974,e.ids=[974],e.modules={440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(1658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},864:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6444,23)),Promise.resolve().then(s.t.bind(s,6042,23)),Promise.resolve().then(s.t.bind(s,8170,23)),Promise.resolve().then(s.t.bind(s,9477,23)),Promise.resolve().then(s.t.bind(s,9345,23)),Promise.resolve().then(s.t.bind(s,2089,23)),Promise.resolve().then(s.t.bind(s,6577,23)),Promise.resolve().then(s.t.bind(s,1307,23))},1204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/page.tsx","default")},1630:e=>{"use strict";e.exports=require("http")},1860:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2206:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(5239),a=s(8088),l=s(8170),o=s.n(l),i=s(893),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(t,n);let c={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1204)),"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4431)),"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2412:e=>{"use strict";e.exports=require("assert")},2943:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4155:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(687),a=s(1860),l=s(9005),o=s(2943);let i=(0,s(2688).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var n=s(7760),c=s(3872),d=s(8133),h=s(3210),u=s(6189),m=s(1060),x=s(5814),p=s.n(x);let g=[{post_id:1,user_id:1,avatar:"https://placehold.co/40x40",username:"username",time:"19 giờ",content:"content",image:"https://placehold.co/500x200",likes:474,comments:3,reposts:27,saves:8},{post_id:2,user_id:2,avatar:"https://placehold.co/40x40",username:"username",time:"1 ng\xe0y",content:"content",image:"https://placehold.co/500x200",likes:320,comments:5,reposts:15,saves:6},{post_id:3,user_id:3,avatar:"https://placehold.co/40x40",username:"randomuser",time:"2 ng\xe0y",content:"Just finished my first marathon! \uD83C\uDFC3‍♂️",image:"https://placehold.co/500x200",likes:289,comments:12,reposts:9,saves:4}];function b(){let e=(0,u.useRouter)(),[t,s]=(0,h.useState)(!1),[i,n]=(0,h.useState)(""),[c,d]=(0,h.useState)(null),[x,p]=(0,h.useState)(null),[b,f]=(0,h.useState)(g),j=e=>{let t=new Date,s=new Date(e),r=Math.floor((t.getTime()-s.getTime())/6e4);if(r<60)return`${r} ph\xfat`;if(r<1440){let e=Math.floor(r/60);return`${e} giờ`}{let e=Math.floor(r/1440);return`${e} ng\xe0y`}},[y,w]=(0,h.useState)(null),N=async()=>{if(i.trim())try{let t=localStorage.getItem("token");if(!t){e.push("/login");return}let r=new FormData;r.append("content",i),c&&r.append("image",c),x&&r.append("video",x);let a=await m.A.post("http://127.0.0.1:8000/posts",r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}}),l=(await m.A.get(`http://127.0.0.1:8000/users/${a.data.user_id}`,{headers:{Authorization:`Bearer ${t}`}})).data.user,o=l.avatar?l.avatar:`https://placehold.co/40x40?text=${l.username}`,h={...a.data,time:j(a.data.created_at),avatar:o,username:l.username,image:a.data.image_id?`http://127.0.0.1:8000/media/${a.data.image_id}`:"",video:a.data.video_id?`http://127.0.0.1:8000/media/${a.data.video_id}`:"",likes:"number"==typeof a.data.likes?a.data.likes:0,comments:"number"==typeof a.data.comments?a.data.comments:0,reposts:"number"==typeof a.data.reposts?a.data.reposts:0,saves:"number"==typeof a.data.saves?a.data.saves:0,liked_by:[],reposted_by:[]};f(e=>[h,...e]),n(""),d(null),p(null),s(!1)}catch(t){console.error("Error creating post:",t),t.response?.status===401&&e.push("/login")}};return(0,r.jsxs)("div",{className:"w-full h-screen bg-gray-100 flex flex-col items-center p-4",children:[(0,r.jsx)("h1",{className:"text-xl text-black font-bold mb-4",children:"Trang chủ"}),(0,r.jsx)("div",{className:"max-w-xl w-full h-auto",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 border-b pb-3",onClick:()=>s(e=>!e),children:[(0,r.jsx)("img",{src:y?.avatar?`http://127.0.0.1:8000/media/${y.avatar}`:"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1 flex gap-2",children:[(0,r.jsx)("input",{type:"text",placeholder:"C\xf3 g\xec mới?",className:"flex-1 p-2 border rounded-lg text-black focus:outline-none"}),(0,r.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold",children:"Đăng"})]})]}),t&&(0,r.jsx)("div",{className:"fixed  inset-0 h-full flex text-black items-center justify-center bg-black/50 z-50",children:(0,r.jsxs)("div",{className:"bg-white w-[600px]  rounded-2xl shadow-lg p-4 translate-x-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center border-b pb-2",children:[(0,r.jsx)("button",{className:"text-gray-600 hover:text-black",children:(0,r.jsx)(a.A,{size:22,onClick:()=>{s(!1)},className:"cursor-pointer"})}),(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Thread mới"}),(0,r.jsx)("div",{})]}),(0,r.jsxs)("div",{className:"p-3 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("img",{src:y?.avatar?`http://127.0.0.1:8000/media/${y.avatar}`:"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold",children:[y?.username||"Loading..."," ",(0,r.jsx)("span",{className:"text-gray-500",children:"› Th\xeam chủ đề"})]}),(0,r.jsx)("textarea",{className:"w-full mt-1 p-2 text-sm border-none outline-none resize-none",rows:2,placeholder:"C\xf3 g\xec mới?",value:i,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&i.trim()&&(e.preventDefault(),N())}})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-gray-500 space-x-4",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)(l.A,{size:20,className:"cursor-pointer hover:text-black"}),(0,r.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{e.target.files&&e.target.files[0]&&d(e.target.files[0])}})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)(o.A,{size:20,className:"cursor-pointer hover:text-black"}),(0,r.jsx)("input",{type:"file",accept:"video/*",style:{display:"none"},onChange:e=>{e.target.files&&e.target.files[0]&&p(e.target.files[0])}})]}),(c||x)&&(0,r.jsx)("button",{type:"button",onClick:()=>{d(null),p(null)},className:"ml-2 text-red-500",children:"X\xf3a file"})]}),c&&(0,r.jsxs)("div",{className:"relative w-32 h-20 mt-2",children:[(0,r.jsx)("img",{src:URL.createObjectURL(c),alt:"preview",className:"w-full h-full object-cover rounded"}),(0,r.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>d(null),children:"\xd7"})]}),x&&(0,r.jsxs)("div",{className:"relative w-40 h-24 mt-2",children:[(0,r.jsx)("video",{src:URL.createObjectURL(x),className:"w-full h-full object-cover rounded",controls:!0}),(0,r.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>p(null),children:"\xd7"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center border-t pt-3",children:[(0,r.jsx)("button",{className:"text-gray-500 text-sm",children:"Bất kỳ ai cũng c\xf3 thể trả lời v\xe0 tr\xedch dẫn"}),(0,r.jsx)("button",{className:`px-4 py-2 rounded-lg font-semibold ${i.trim()?"bg-blue-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!i.trim(),onClick:N,children:"Đăng"})]})]})]})}),(0,r.jsx)("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto",children:b.map(e=>(0,r.jsx)(v,{...e,setLocalPosts:f,currentUser:y},e.post_id))})]})})]})}function v({post_id:e,user_id:t,avatar:s,username:m,time:x,content:g,image:b,video:v,likes:j,comments:y,reposts:w,saves:N,liked_by:k=[],reposted_by:C=[],setLocalPosts:P,currentUser:S}){let[_,$]=(0,h.useState)(!1),[A,z]=(0,h.useState)(!1),[q,T]=(0,h.useState)(j),[E,L]=(0,h.useState)(!1),[R,D]=(0,h.useState)(w),[M,U]=(0,h.useState)(""),[F,B]=(0,h.useState)(y),[G,I]=(0,h.useState)(!1),[O,W]=(0,h.useState)(!1),[H,K]=(0,h.useState)(g),[X,J]=(0,h.useState)(!1),V=(0,u.useRouter)(),[Q,Y]=(0,h.useState)(""),Z=(0,h.useRef)(null),[ee,et]=(0,h.useState)(!1),[es,er]=(0,h.useState)(null),[ea,el]=(0,h.useState)(null),eo=async()=>{try{return}catch(e){console.error("Error liking post:",e)}},ei=async()=>{try{let t=localStorage.getItem("token"),s=await fetch(`http://127.0.0.1:8000/posts/${e}/repost`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!s.ok)throw Error("Failed to repost");let r=await s.json();if(r&&r.reposted_by&&S){let e=r.reposted_by.map(e=>String(e).trim()).includes(String(S.user_id).trim());L(e),D(r.reposts??0)}}catch(e){console.error("Error reposting:",e)}},en=async()=>{try{let t=new FormData;t.append("content",M),es&&t.append("image",es),ea&&t.append("video",ea);let s=await fetch(`http://127.0.0.1:8000/posts/${e}/comment`,{method:"POST",headers:{Authorization:"Bearer null"},body:t});if(s.ok){let e=await s.json();B(t=>e.comments?e.comments:t+1),U(""),er(null),el(null),$(!1)}else console.error("Failed to comment on post:",s.status)}catch(e){console.error("Error commenting on post:",e)}},ec=async()=>{try{let t=new FormData;t.append("content",H);let s=await fetch(`http://127.0.0.1:8000/posts/${e}`,{method:"PUT",headers:{Authorization:"Bearer null"},body:t});if(s.ok)W(!1),Y(""),P(t=>t.map(t=>t.post_id===e?{...t,content:H}:t));else{let e=await s.json();e.detail?Y(e.detail):Y("C\xf3 lỗi xảy ra khi chỉnh sửa b\xe0i viết."),console.error("Failed to edit post:",s.status)}}catch(e){Y("C\xf3 lỗi xảy ra khi chỉnh sửa b\xe0i viết."),console.error("Error editing post:",e)}},ed=async()=>{try{let t=await fetch(`http://127.0.0.1:8000/posts/${e}`,{method:"DELETE",headers:{Authorization:"Bearer null"}});if(t.ok)Y(""),console.log("Post deleted successfully"),P(t=>t.filter(t=>t.post_id!==e));else{let e=await t.json();e.detail?Y(e.detail):Y("C\xf3 lỗi xảy ra khi x\xf3a b\xe0i viết."),console.error("Failed to delete post:",t.status)}}catch(e){Y("C\xf3 lỗi xảy ra khi x\xf3a b\xe0i viết."),console.error("Error deleting post:",e)}},eh=async()=>{},eu=async()=>{};return console.log("Render Heart, liked:",A),(0,r.jsxs)("div",{className:"bg-white text-black p-4 shadow-md w-full rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex justify-between relative",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("img",{src:s&&!s.startsWith("http")?`http://127.0.0.1:8000/media/${s}?${Date.now()}`:s||`https://placehold.co/40x40?text=${m}`,alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p(),{href:`/profile/${t}`,children:(0,r.jsx)("span",{className:"text-sm font-semibold text-black hover:underline cursor-pointer",children:m})}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:x})]}),String(t)!==String(S?.user_id)&&(0,r.jsx)("button",{onClick:X?eu:eh,className:`flex items-center gap-1 text-xs px-3 py-1 rounded-full font-medium transition-colors duration-150 ${X?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-blue-500 hover:bg-blue-600 text-white"} ${ee?"opacity-60 cursor-not-allowed":""}`,disabled:ee,children:ee?(0,r.jsx)("span",{className:"loader w-3 h-3 border-2 border-t-2 border-gray-400 rounded-full animate-spin"}):X?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{stroke:"#16a34a",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Đang theo d\xf5i"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{stroke:"#2563eb",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Theo d\xf5i"]})})]})})]}),(0,r.jsx)("div",{className:"hover:bg-gray-100 p-2 rounded-full flex justify-center items-center w-8 h-8",onClick:e=>{e.stopPropagation()},children:(0,r.jsx)(i,{size:20,className:"cursor-pointer hover:text-black",onClick:()=>I(e=>!e)})}),G&&(0,r.jsxs)("div",{ref:Z,className:"absolute right-2 top-10 z-50 bg-white border border-gray-200 shadow-md p-2 rounded-lg",onClick:e=>{e.stopPropagation()},children:[(0,r.jsx)("button",{className:"w-full text-left hover:bg-gray-100 p-2",onClick:()=>{W(!0),I(!1)},children:"Chỉnh sửa"}),(0,r.jsx)("button",{className:"w-full text-left hover:bg-gray-100 p-2",onClick:ed,children:"X\xf3a"})]})]}),O?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2",onClick:e=>{e.stopPropagation()},children:[(0,r.jsx)("textarea",{className:"w-full p-2 border rounded-lg",value:H,onChange:e=>K(e.target.value)}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,r.jsx)("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600",onClick:ec,children:"Lưu"}),(0,r.jsx)("button",{className:"px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300",onClick:()=>W(!1),children:"Hủy"})]})]}),Q&&(0,r.jsx)("div",{className:"text-red-500 text-sm mt-2",children:Q})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"cursor-pointer",onClick:()=>V.push(`/comment/${e}`),children:[(0,r.jsx)("p",{className:"mt-2",children:g}),Q&&(0,r.jsx)("div",{className:"text-red-500 text-sm mt-2",children:Q}),b&&(0,r.jsx)("img",{src:`${b}`,alt:"Post",className:"mt-2 rounded-lg"}),v&&(0,r.jsx)("video",{src:`${v}`,controls:!0,className:"mt-2 rounded-lg w-full"})]})}),(0,r.jsxs)("div",{className:"flex gap-4 text-gray-500 mt-3",children:[(0,r.jsx)(f,{icon:(0,r.jsx)(n.A,{size:18,className:A?"text-red-500":"text-gray-500"}),count:q,onClick:eo}),(0,r.jsx)(f,{icon:(0,r.jsx)(c.A,{size:18}),count:F,onClick:()=>$(e=>!e)}),(0,r.jsx)(f,{icon:(0,r.jsx)(d.A,{size:18,className:E?"text-green-500":"text-gray-500"}),count:R,onClick:ei})]}),_&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",onClick:e=>{e.stopPropagation()},children:(0,r.jsxs)("div",{className:"bg-white w-[500px] rounded-xl shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border-b",children:[(0,r.jsx)("button",{className:"text-gray-600 hover:text-black",children:(0,r.jsx)(a.A,{size:20,onClick:()=>$(!1),className:"cursor-pointer"})}),(0,r.jsx)("p",{className:"text-sm font-semibold",children:"Thread trả lời"}),(0,r.jsx)("button",{className:"text-gray-600 hover:text-black",children:(0,r.jsx)(i,{size:20})})]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("img",{src:s&&!s.startsWith("http")?`http://127.0.0.1:8000/media/${s}`:s||`https://placehold.co/40x40?text=${m}`,alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("p",{className:"font-semibold text-sm",children:[m," ",(0,r.jsxs)("span",{className:"text-gray-500 text-xs",children:["• ",x]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-800",children:g})]})]})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("img",{src:s&&!s.startsWith("http")?`http://127.0.0.1:8000/media/${s}`:s||`https://placehold.co/40x40?text=${m}`,alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("input",{type:"text",placeholder:`Trả lời ${m}`,className:"w-full border-none outline-none bg-transparent text-sm text-gray-800",value:M,onChange:e=>U(e.target.value)}),(0,r.jsxs)("div",{className:"flex space-x-3 text-gray-500 mt-2 items-center",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)(l.A,{size:18,className:"cursor-pointer hover:text-black"}),(0,r.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{er(e.target.files?.[0]||null)}})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)(o.A,{size:18,className:"cursor-pointer hover:text-black"}),(0,r.jsx)("input",{type:"file",accept:"video/*",style:{display:"none"},onChange:e=>{el(e.target.files?.[0]||null)}})]}),es&&(0,r.jsxs)("div",{className:"relative w-10 h-10",children:[(0,r.jsx)("img",{src:URL.createObjectURL(es),alt:"preview",className:"w-10 h-10 object-cover rounded"}),(0,r.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>er(null),children:"\xd7"})]}),ea&&(0,r.jsxs)("div",{className:"relative w-16 h-10",children:[(0,r.jsx)("video",{src:URL.createObjectURL(ea),className:"w-16 h-10 object-cover rounded",controls:!0}),(0,r.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>el(null),children:"\xd7"})]})]})]})]})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("button",{className:`w-full py-2 rounded-lg ${M.trim()?"bg-blue-500 text-white hover:bg-blue-600 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!M.trim(),onClick:en,children:"Đăng"})})]})})]})}function f({icon:e,count:t,onClick:s}){return(0,r.jsxs)("button",{className:"flex items-center space-x-1 hover:text-black",onClick:e=>{e.stopPropagation(),s?.(e)},children:[e,(0,r.jsx)("span",{children:t})]})}},4263:()=>{},4339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(687),a=s(6482),l=s.n(a),o=s(4716),i=s.n(o);s(4263);var n=s(3210),c=s(5814),d=s.n(c);function h(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(!1);return(0,r.jsxs)("div",{className:"flex justify-center items-center relative",children:[(0,r.jsx)("button",{className:"hover:bg-slate-200 p-3 rounded-lg",onClick:()=>t(e=>!e),children:(0,r.jsx)("img",{width:20,src:"/assets/option-row.svg",alt:"option"})}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>t(!1),children:(0,r.jsx)("div",{className:`absolute bg-white rounded-2xl shadow-lg p-4 ${l?"bottom-0 left-0 right-0 rounded-t-2xl":"bottom-24 left-5 w-48"}`,onClick:e=>e.stopPropagation(),children:(0,r.jsx)("div",{className:"border-t",children:(0,r.jsx)("button",{className:"py-3 text-black w-full hover:bg-slate-200 rounded-lg",onClick:()=>{a(!1),console.log("Logging out..."),document.cookie="token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",localStorage.removeItem("token"),localStorage.removeItem("lastLoginTime"),localStorage.removeItem("currentUser"),window.location.href="/login"},children:"Đăng xuất"})})})})]})}function u(){let[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(null);return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-col justify-between py-5 md:w-20 md:h-screen items-center bg-zinc-50 w-screen h-20",children:[(0,r.jsx)("img",{width:40,className:"hidden md:block",src:"/loom.png",alt:"logo"}),(0,r.jsxs)("div",{className:"flex md:flex-col md:gap-16 gap-5 flex-row",children:[(0,r.jsx)(d(),{href:"/",className:"hover:bg-slate-200 p-3 rounded-lg",children:(0,r.jsx)("img",{width:22,src:"/assets/home.svg",alt:"home"})}),(0,r.jsx)(d(),{href:"/search",className:"hover:bg-slate-200 p-3 rounded-lg",children:(0,r.jsx)("img",{width:22,src:"/assets/search.svg",alt:"search"})}),(0,r.jsx)(d(),{href:"/likepage",className:"hover:bg-slate-200 p-3 rounded-lg relative cursor-pointer",children:(0,r.jsx)("img",{width:22,src:"/assets/heart.svg",alt:"heart"})}),e?.user_id&&(0,r.jsx)(d(),{href:`/profile/${e.user_id}`,className:"hover:bg-slate-200 p-3 rounded-lg",children:(0,r.jsx)("img",{width:20,src:"/assets/profile.svg",alt:"profile"})})]}),(0,r.jsx)("div",{className:"pb-10",children:(0,r.jsx)(h,{})})]})})}var m=s(6189);function x({children:e}){(0,m.useRouter)();let t=(0,m.usePathname)();return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${l().variable} ${i().variable} antialiased`,children:(0,r.jsxs)("div",{className:"flex",children:["/login"!==t&&"/signup"!==t&&(0,r.jsx)(u,{}),e]})})})}},4416:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6346,23)),Promise.resolve().then(s.t.bind(s,7924,23)),Promise.resolve().then(s.t.bind(s,5656,23)),Promise.resolve().then(s.t.bind(s,99,23)),Promise.resolve().then(s.t.bind(s,8243,23)),Promise.resolve().then(s.t.bind(s,8827,23)),Promise.resolve().then(s.t.bind(s,2763,23)),Promise.resolve().then(s.t.bind(s,7173,23))},4431:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/nin/Documents/SocialNetworkdeploy/frontend/src/app/layout.tsx","default")},4647:()=>{},4711:(e,t,s)=>{Promise.resolve().then(s.bind(s,1204))},4735:e=>{"use strict";e.exports=require("events")},4975:(e,t,s)=>{Promise.resolve().then(s.bind(s,4155))},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},9005:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(2688).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9624:(e,t,s)=>{Promise.resolve().then(s.bind(s,4339))},9896:(e,t,s)=>{Promise.resolve().then(s.bind(s,4431))}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,240,658,832],()=>s(2206));module.exports=r})();