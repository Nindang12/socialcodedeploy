(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{3410:(e,s,a)=>{Promise.resolve().then(a.bind(a,9349))},9349:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5155),l=a(2115),r=a(5695),n=a(6874),o=a.n(n);let m=()=>{let e=(0,r.useRouter)(),[s,a]=(0,l.useState)(""),[n,m]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[i,u]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),[p,b]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[N,j]=(0,l.useState)({fullName:!1,username:!1,phoneNumber:!1,email:!1,password:!1}),y=async a=>{if(a.preventDefault(),!s||!n||!d||!i||!x){j({fullName:!0,username:!0,phoneNumber:!0,email:!0,password:!0});return}b(""),g(!0);try{let a=await fetch("http://127.0.0.1:8000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:s,username:n,phone_number:d,email:i,password:x})});if(!a.ok){let e=await a.json();throw Error(e.detail||"Đăng k\xfd thất bại")}await a.json(),e.push("/login")}catch(e){console.error("Signup error:",e),b(e.message||"C\xf3 lỗi xảy ra, vui l\xf2ng thử lại")}finally{g(!1)}},k=e=>{j(s=>({...s,[e]:!0}))},w=(e,s)=>N[e]?s?"email"!==e||/\S+@\S+\.\S+/.test(s)?"phoneNumber"!==e||/^\d{10,11}$/.test(s)?"password"===e&&s.length<6?"Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự":"":"Số điện thoại phải c\xf3 10-11 chữ số":"Email kh\xf4ng hợp lệ":"Trường n\xe0y l\xe0 bắt buộc":"";return(0,t.jsxs)("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Đăng k\xfd"})}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p&&(0,t.jsx)("div",{className:"mb-4 text-red-500 text-sm text-center",children:p}),(0,t.jsxs)("form",{className:"space-y-6",onSubmit:y,noValidate:!0,children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:["Họ v\xe0 t\xean ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"block w-full rounded-md border ".concat(w("fullName",s)?"border-red-500":"border-gray-300"," px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black"),value:s,onChange:e=>a(e.target.value),onBlur:()=>k("fullName")}),w("fullName",s)&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:w("fullName",s)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:["T\xean đăng nhập ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"block w-full rounded-md border ".concat(w("username",n)?"border-red-500":"border-gray-300"," px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black"),value:n,onChange:e=>m(e.target.value),onBlur:()=>k("username")}),w("username",n)&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:w("username",n)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:["Số điện thoại ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",autoComplete:"tel",required:!0,className:"block w-full rounded-md border ".concat(w("phoneNumber",d)?"border-red-500":"border-gray-300"," px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black"),value:d,onChange:e=>c(e.target.value),onBlur:()=>k("phoneNumber")}),w("phoneNumber",d)&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:w("phoneNumber",d)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border ".concat(w("email",i)?"border-red-500":"border-gray-300"," px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black"),value:i,onChange:e=>u(e.target.value),onBlur:()=>k("email")}),w("email",i)&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:w("email",i)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:["Mật khẩu ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"block w-full rounded-md border ".concat(w("password",x)?"border-red-500":"border-gray-300"," px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black"),value:x,onChange:e=>h(e.target.value),onBlur:()=>k("password")}),w("password",x)&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:w("password",x)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Đang đăng k\xfd...":"Đăng k\xfd"}),(0,t.jsx)(o(),{href:"/login",className:"mt-2 block text-center text-sm text-gray-500 hover:text-gray-700",children:"Đ\xe3 c\xf3 t\xe0i khoản? Đăng nhập"})]})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[244,441,684,358],()=>s(3410)),_N_E=e.O()}]);