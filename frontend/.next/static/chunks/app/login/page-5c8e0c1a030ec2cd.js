(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4117:(e,s,t)=>{Promise.resolve().then(t.bind(t,9690))},9690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(5155),r=t(2115),l=t(5695),n=t(6874),o=t.n(n);let i=()=>{let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),h=async t=>{t.preventDefault(),c(""),u(!0);try{let t=await fetch("http://127.0.0.1:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:"",phone_number:s,username:s,email:s,password:n})});if(!t.ok){let e=await t.json();throw Error(e.detail||"Đăng nhập thất bại")}let a=await t.json();localStorage.setItem("token",a.token),e.push("/")}catch(e){console.error("Login error:",e),c(e.message||"C\xf3 lỗi xảy ra, vui l\xf2ng thử lại")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen w-full bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsx)("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Đăng nhập"})}),(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[d&&(0,a.jsx)("div",{className:"mb-4 text-red-500 text-sm text-center",children:d}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"identifier",className:"block text-sm font-medium text-gray-700",children:"Email / Số điện thoại / T\xean đăng nhập"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"username",required:!0,className:"block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black",value:s,onChange:e=>t(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border border-gray-300 px-3 py-2 focus:border-black focus:outline-none focus:ring-1 focus:ring-black",value:n,onChange:e=>i(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{type:"submit",disabled:m,className:"flex w-full justify-center rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Đang đăng nhập...":"Đăng nhập"}),(0,a.jsx)(o(),{href:"/signup",className:"text-sm text-gray-500 hover:text-gray-700",children:"Tạo t\xe0i khoản mới"})]})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[244,441,684,358],()=>s(4117)),_N_E=e.O()}]);