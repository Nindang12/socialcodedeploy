(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[519],{1212:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(5155),r=a(6874),l=a.n(r),n=a(5695),i=a(1976),o=a(1366),c=a(1335),d=a(4416),u=a(7213),m=a(9803);let h=(0,a(9946).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var x=a(2115),p=a(3464);function g(){var e,t;(0,n.useRouter)();let a=(0,n.useParams)().userId,r=e=>{let t=new Date,a=new Date(e),s=Math.floor((t.getTime()-a.getTime())/6e4);if(s<60)return"".concat(s," ph\xfat");if(s<1440){let e=Math.floor(s/60);return"".concat(e," giờ")}{let e=Math.floor(s/1440);return"".concat(e," ng\xe0y")}},[g,v]=(0,x.useState)("posts"),[b,j]=(0,x.useState)(!1),[f,y]=(0,x.useState)(null),[N,w]=(0,x.useState)([]),[_,k]=(0,x.useState)([]),[A,S]=(0,x.useState)(!0),[C,z]=(0,x.useState)(null),[B,E]=(0,x.useState)(!1),[T,P]=(0,x.useState)({full_name:(null==f?void 0:f.full_name)||"",phone_number:(null==f?void 0:f.phone_number)||"",username:(null==f?void 0:f.username)||"",email:(null==f?void 0:f.email)||"",bio:(null==f?void 0:f.bio)||"",avatar:null}),[D,L]=(0,x.useState)(!1),[O,U]=(0,x.useState)([]),I=async()=>{S(!0);try{let e=localStorage.getItem("token"),t=await p.A.get("http://127.0.0.1:8000/users/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});y(t.data.user);let s=await p.A.get("http://127.0.0.1:8000/users/".concat(a,"/posts"),{headers:{Authorization:"Bearer ".concat(e)}});w(s.data.posts);let r=(await p.A.get("http://127.0.0.1:8000/comments/user/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}})).data,l=[...new Set(r.map(e=>e.post_id))],n=(await Promise.all(l.map(async t=>{try{let a=(await p.A.get("http://127.0.0.1:8000/posts/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}})).data,s=await p.A.get("http://127.0.0.1:8000/users/".concat(a.user_id),{headers:{Authorization:"Bearer ".concat(e)}}),l=r.filter(e=>e.post_id===t);return{...a,userComments:l,user:s.data.user}}catch(e){return console.error("Error fetching post ".concat(t,":"),e),null}}))).filter(Boolean).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime());k(n);let i=(await p.A.get("http://127.0.0.1:8000/posts",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>Array.isArray(e.reposted_by)&&e.reposted_by.map(e=>String(e).trim()).includes(String(a).trim())),o=(await Promise.all(i.map(async t=>{try{let a=await p.A.get("http://127.0.0.1:8000/users/".concat(t.user_id),{headers:{Authorization:"Bearer ".concat(e)}});return{...t,user:a.data.user}}catch(e){return console.error("Error fetching user for post ".concat(t.post_id,":"),e),t}}))).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime());U(o)}catch(e){console.error("Error fetching profile data:",e),y(null),w([]),k([]),U([])}finally{S(!1)}};(0,x.useEffect)(()=>{I()},[a]),(0,x.useEffect)(()=>{z(JSON.parse(localStorage.getItem("currentUser")||"{}"))},[]),(0,x.useEffect)(()=>{f&&C&&j(!!Array.isArray(f.followers)&&f.followers.map(e=>String(e).trim()).includes(String(C.user_id).trim()))},[f,C]);let R=e=>{var t,a,n;let{post:h,onActionDone:p}=e,g=!!Array.isArray(h.liked_by)&&!!C&&h.liked_by.map(e=>String(e).trim()).includes(String(C.user_id).trim()),[v,b]=(0,x.useState)(g),[j,y]=(0,x.useState)(null!==(t=h.likes)&&void 0!==t?t:0),N=!!Array.isArray(h.reposted_by)&&!!C&&h.reposted_by.map(e=>String(e).trim()).includes(String(C.user_id).trim()),[w,_]=(0,x.useState)(N),[k,A]=(0,x.useState)(null!==(a=h.reposts)&&void 0!==a?a:0),[S,z]=(0,x.useState)(!1),[B,E]=(0,x.useState)(""),[T,P]=(0,x.useState)(null),[D,L]=(0,x.useState)(null);h.created_at,(0,x.useEffect)(()=>{b(!!Array.isArray(h.liked_by)&&!!C&&h.liked_by.map(e=>String(e).trim()).includes(String(C.user_id).trim())),_(!!Array.isArray(h.reposted_by)&&!!C&&h.reposted_by.map(e=>String(e).trim()).includes(String(C.user_id).trim()))},[h.liked_by,h.reposted_by,C]);let O=async()=>{try{let e=localStorage.getItem("token");(await fetch("http://127.0.0.1:8000/posts/".concat(h.post_id,"/like"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(b(!v),y(e=>v?e-1:e+1),await p())}catch(e){console.error("Error liking post:",e)}},U=async()=>{try{let e=localStorage.getItem("token");(await fetch("http://127.0.0.1:8000/posts/".concat(h.post_id,"/repost"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(_(!w),A(e=>w?e-1:e+1),await p())}catch(e){console.error("Error reposting:",e)}},I=async()=>{if(B.trim())try{let e=localStorage.getItem("token"),t=new FormData;t.append("content",B),T&&t.append("image",T),D&&t.append("video",D),(await fetch("http://127.0.0.1:8000/posts/".concat(h.post_id,"/comments"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t})).ok&&(E(""),P(null),L(null),z(!1),await p())}catch(e){console.error("Error posting comment:",e)}};return(0,s.jsxs)("div",{className:"bg-white text-black p-4 shadow-md w-full rounded-lg border ",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:(null==f?void 0:f.avatar)?"http://127.0.0.1:8000/media/".concat(f.avatar):"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold",children:(null==f?void 0:f.full_name)||"Người d\xf9ng"}),(0,s.jsx)(l(),{href:"/profile/".concat(null==f?void 0:f.user_id),children:(0,s.jsxs)("span",{className:"text-sm text-blue-500 hover:underline cursor-pointer",children:["@",(null==f?void 0:f.username)||""]})}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:r(h.created_at)})]})})]}),(0,s.jsx)("p",{className:"mt-2",children:h.content}),h.image_id&&(0,s.jsx)("img",{src:"http://127.0.0.1:8000/media/".concat(h.image_id),alt:"Post",className:"mt-2 rounded-lg"}),h.images&&h.images.length>0&&(0,s.jsx)("img",{src:h.images[0],alt:"Post",className:"mt-2 rounded-lg"}),(0,s.jsxs)("div",{className:"flex gap-4 text-gray-500 mt-3",children:[(0,s.jsx)(M,{icon:(0,s.jsx)(i.A,{size:18,className:v?"text-red-500":"text-gray-500"}),count:j,onClick:O}),(0,s.jsx)(M,{icon:(0,s.jsx)(o.A,{size:18}),count:null!==(n=h.replies)&&void 0!==n?n:0,onClick:()=>z(e=>!e)}),(0,s.jsx)(M,{icon:(0,s.jsx)(c.A,{size:18,className:w?"text-green-500":"text-gray-500"}),count:k,onClick:U})]}),S&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white w-[500px] rounded-xl shadow-lg translate-x-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border-b",children:[(0,s.jsx)("button",{className:"text-gray-600 hover:text-black",children:(0,s.jsx)(d.A,{size:20,onClick:()=>z(!1),className:"cursor-pointer"})}),(0,s.jsx)("p",{className:"text-sm font-semibold",children:"Thread trả lời"}),(0,s.jsx)("div",{})]}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("img",{src:(null==f?void 0:f.avatar)?"http://127.0.0.1:8000/media/".concat(f.avatar):"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("p",{className:"font-semibold text-sm",children:[(null==f?void 0:f.full_name)||"Người d\xf9ng"," ",(0,s.jsxs)("span",{className:"text-gray-500 text-xs",children:["• ",h.created_at?new Date(h.created_at).toLocaleDateString("vi-VN"):""]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-800",children:h.content})]})]})}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("img",{src:"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("input",{type:"text",placeholder:"Trả lời ".concat((null==f?void 0:f.full_name)||"người d\xf9ng"),className:"w-full border-none outline-none bg-transparent text-sm text-gray-800",value:B,onChange:e=>E(e.target.value)}),(0,s.jsxs)("div",{className:"flex space-x-3 text-gray-500 mt-2 items-center",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)(u.A,{size:18,className:"cursor-pointer hover:text-black"}),(0,s.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{var t;P((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)(m.A,{size:18,className:"cursor-pointer hover:text-black"}),(0,s.jsx)("input",{type:"file",accept:"video/*",style:{display:"none"},onChange:e=>{var t;L((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),T&&(0,s.jsxs)("div",{className:"relative w-10 h-10",children:[(0,s.jsx)("img",{src:URL.createObjectURL(T),alt:"preview",className:"w-10 h-10 object-cover rounded"}),(0,s.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>P(null),children:"\xd7"})]}),D&&(0,s.jsxs)("div",{className:"relative w-16 h-10",children:[(0,s.jsx)("video",{src:URL.createObjectURL(D),className:"w-16 h-10 object-cover rounded",controls:!0}),(0,s.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>L(null),children:"\xd7"})]})]})]})]})}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("button",{className:"w-full py-2 rounded-lg ".concat(B.trim()?"bg-blue-500 text-white hover:bg-blue-600 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:!B.trim(),onClick:I,children:"Đăng"})})]})})]},h.post_id)},M=e=>{let{icon:t,count:a,onClick:r}=e;return(0,s.jsxs)("button",{className:"flex items-center space-x-2 hover:text-blue-500",onClick:r,children:[t,(0,s.jsx)("span",{children:a})]})},F=e=>{v(e)},H=async()=>{try{let e=localStorage.getItem("token");(await fetch("http://127.0.0.1:8000/users/".concat(a,"/").concat(b?"unfollow":"follow"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(j(!b),await I())}catch(e){console.error("Error following/unfollowing user:",e)}},K=async()=>{L(!0);try{let e=localStorage.getItem("token"),t=new FormData;t.append("full_name",T.full_name),t.append("phone_number",T.phone_number),t.append("username",T.username),t.append("email",T.email),t.append("bio",T.bio),T.avatar&&t.append("avatar",T.avatar);let s=await fetch("http://127.0.0.1:8000/users/".concat(a,"/update"),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:t});if(!s.ok)throw Error("Cập nhật thất bại");let r=await s.json();y(r.user),E(!1)}catch(e){alert("C\xf3 lỗi xảy ra khi cập nhật hồ sơ!")}finally{L(!1)}};return A||f||(0,n.notFound)(),(0,s.jsxs)("div",{className:"w-full h-screen bg-gray-100 flex flex-col items-center p-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Hồ sơ"}),(0,s.jsx)("div",{className:"max-w-xl w-full h-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-md p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("img",{src:(null==f?void 0:f.avatar)?"http://127.0.0.1:8000/media/".concat(f.avatar):"https://placehold.co/100x100",alt:"Avatar",className:"w-20 h-20 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:(null==f?void 0:f.full_name)||"username"}),(0,s.jsxs)("p",{className:"text-gray-500",children:["@",(null==f?void 0:f.username)||"username"]}),(0,s.jsx)("p",{className:"text-gray-500",children:(null==f?void 0:f.bio)||"Bio"}),(null==C?void 0:C.user_id)===a&&(0,s.jsx)(h,{size:18,className:"cursor-pointer hover:text-blue-500",onClick:()=>E(!0)}),(0,s.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:Array.isArray(N)?N.length:0})," b\xe0i viết"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:(null==f?void 0:null===(e=f.followers)||void 0===e?void 0:e.length)||0})," người theo d\xf5i"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:(null==f?void 0:null===(t=f.following)||void 0===t?void 0:t.length)||0})," đang theo d\xf5i"]})]})]}),(null==C?void 0:C.user_id)!==a&&(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg font-semibold ".concat(b?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-blue-500 hover:bg-blue-600 text-white"),onClick:H,children:b?"Đang theo d\xf5i":"Theo d\xf5i"})]}),(0,s.jsxs)("div",{className:"flex border-b",children:[(0,s.jsx)("button",{className:"px-4 py-2 ".concat("posts"===g?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"),onClick:()=>F("posts"),children:"B\xe0i viết"}),(0,s.jsx)("button",{className:"px-4 py-2 ".concat("replies"===g?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"),onClick:()=>F("replies"),children:"Trả lời"}),(0,s.jsx)("button",{className:"px-4 py-2 ".concat("reposts"===g?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"),onClick:()=>F("reposts"),children:"Đăng lại"})]}),(0,s.jsxs)("div",{className:"space-y-4 overflow-auto max-h-[calc(100vh-290px)]",children:["posts"===g&&(Array.isArray(N)&&N.length>0?N.map(e=>(0,s.jsx)(R,{post:e,onActionDone:I},e.post_id)):(0,s.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Kh\xf4ng c\xf3 b\xe0i viết n\xe0o."})),"replies"===g&&(Array.isArray(_)&&_.length>0?_.map(e=>{var t,a,n,i,o;return(0,s.jsxs)("div",{className:"bg-white text-black p-4 shadow-md w-full rounded-lg border",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:(null===(t=e.user)||void 0===t?void 0:t.avatar)?"http://127.0.0.1:8000/media/".concat(e.user.avatar):"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold",children:(null===(a=e.user)||void 0===a?void 0:a.full_name)||"Người d\xf9ng"}),(0,s.jsx)(l(),{href:"/profile/".concat(null===(n=e.user)||void 0===n?void 0:n.user_id),children:(0,s.jsxs)("span",{className:"text-sm text-blue-500 hover:underline cursor-pointer",children:["@",(null===(i=e.user)||void 0===i?void 0:i.username)||""]})}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:r(e.created_at)})]})})]}),(0,s.jsx)(l(),{href:"/comment/".concat(e.post_id),children:(0,s.jsx)("p",{className:"mt-2",children:e.content})}),e.image_id&&(0,s.jsx)("img",{src:"http://127.0.0.1:8000/media/".concat(e.image_id),alt:"Post",className:"mt-2 rounded-lg"}),null===(o=e.userComments)||void 0===o?void 0:o.map(e=>(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("img",{src:(null==f?void 0:f.avatar)?"http://127.0.0.1:8000/media/".concat(f.avatar):"https://placehold.co/40x40",alt:"Avatar",className:"w-8 h-8 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:(null==f?void 0:f.full_name)||"Người d\xf9ng"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:r(e.created_at)})]})]}),(0,s.jsx)("p",{className:"mt-2 text-sm",children:e.content}),e.image_id&&(0,s.jsx)("img",{src:"http://127.0.0.1:8000/media/".concat(e.image_id),alt:"Comment",className:"mt-2 rounded-lg max-h-40 object-cover"})]},e.comment_id))]},e.post_id)}):(0,s.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Kh\xf4ng c\xf3 trả lời n\xe0o."})),"reposts"===g&&(Array.isArray(O)&&O.length>0?O.map(e=>{var t,a,n,d,u;return(0,s.jsxs)("div",{className:"bg-white text-black p-4 shadow-md w-full rounded-lg border",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:(null===(t=e.user)||void 0===t?void 0:t.avatar)?"http://127.0.0.1:8000/media/".concat(e.user.avatar):"https://placehold.co/40x40",alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-semibold",children:(null===(a=e.user)||void 0===a?void 0:a.full_name)||"Người d\xf9ng"}),(0,s.jsx)(l(),{href:"/profile/".concat(null===(n=e.user)||void 0===n?void 0:n.user_id),children:(0,s.jsxs)("span",{className:"text-sm text-blue-500 hover:underline cursor-pointer",children:["@",(null===(d=e.user)||void 0===d?void 0:d.username)||""]})}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:r(e.created_at)})]})})]}),(0,s.jsx)(l(),{href:"/comment/".concat(e.post_id),children:(0,s.jsx)("p",{className:"mt-2",children:e.content})}),e.image_id&&(0,s.jsx)("img",{src:"http://127.0.0.1:8000/media/".concat(e.image_id),alt:"Post",className:"mt-2 rounded-lg"}),e.video_id&&(0,s.jsx)("video",{src:"http://127.0.0.1:8000/media/".concat(e.video_id),controls:!0,className:"mt-2 rounded-lg w-full"}),(0,s.jsxs)("div",{className:"flex gap-4 text-gray-500 mt-3",children:[(0,s.jsx)(M,{icon:(0,s.jsx)(i.A,{size:18,className:(null===(u=e.liked_by)||void 0===u?void 0:u.includes(null==C?void 0:C.user_id))?"text-red-500":"text-gray-500"}),count:e.likes||0,onClick:()=>{}}),(0,s.jsx)(M,{icon:(0,s.jsx)(o.A,{size:18}),count:e.comments||0,onClick:()=>{}}),(0,s.jsx)(M,{icon:(0,s.jsx)(c.A,{size:18,className:"text-green-500"}),count:e.reposts||0,onClick:()=>{}})]})]},e.post_id)}):(0,s.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Kh\xf4ng c\xf3 b\xe0i đăng lại n\xe0o."}))]})]})}),B&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[400px]",children:[(0,s.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Chỉnh sửa hồ sơ"}),(0,s.jsx)("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Họ t\xean",value:T.full_name,onChange:e=>P({...T,full_name:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Số điện thoại",value:T.phone_number,onChange:e=>P({...T,phone_number:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Username",value:T.username,onChange:e=>P({...T,username:e.target.value})}),(0,s.jsx)("input",{className:"w-full mb-2 p-2 border rounded",placeholder:"Email",value:T.email,onChange:e=>P({...T,email:e.target.value})}),(0,s.jsx)("textarea",{className:"w-full mb-2 p-2 border rounded",placeholder:"Bio",value:T.bio,onChange:e=>P({...T,bio:e.target.value})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2 p-2 border rounded cursor-pointer",children:[(0,s.jsx)(u.A,{size:18,className:"cursor-pointer hover:text-black"}),(0,s.jsx)("input",{type:"file",accept:"image/*",className:"hidden",id:"avatar-upload",onChange:e=>{var t;return P({...T,avatar:(null===(t=e.target.files)||void 0===t?void 0:t[0])||null})}}),(0,s.jsx)("label",{htmlFor:"avatar-upload",className:"cursor-pointer",children:"Chọn ảnh đại diện"}),T.avatar&&(0,s.jsxs)("div",{className:"relative w-10 h-10 ml-2",children:[(0,s.jsx)("img",{src:URL.createObjectURL(T.avatar),alt:"Avatar preview",className:"w-10 h-10 object-cover rounded-full"}),(0,s.jsx)("button",{type:"button",className:"absolute -top-1 -right-1 bg-white rounded-full p-0.5 text-xs text-red-500 border border-gray-300 hover:bg-gray-200",onClick:()=>P({...T,avatar:null}),children:"\xd7"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded",onClick:()=>E(!1),children:"Hủy"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-white rounded",onClick:K,disabled:D,children:D?"Đang lưu...":"Lưu"})]})]})})]})}},4414:(e,t,a)=>{Promise.resolve().then(a.bind(a,1212))},4416:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7213:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},9803:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[244,324,441,684,358],()=>t(4414)),_N_E=e.O()}]);